(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{341:function(t,a,e){"use strict";e.r(a);var i=e(3),o=e(1),n=e(4);i.d.add(o.gb,o.cb,o.p,o.S,o.C,n.b,o.G,o.eb,o.U,o.g,o.Gb,o.zb);var r={components:{Junctions:function(){return e.e(27).then(e.bind(null,377))},GeneratorSets:function(){return e.e(26).then(e.bind(null,378))},SolarPanels:function(){return e.e(28).then(e.bind(null,379))},Equipment:function(){return e.e(25).then(e.bind(null,380))},Vision:function(){return e.e(136).then(e.bind(null,327))}},props:["user","room","junctions","generatorSets","planes","planeTypes","airConditioners","canEditJunctions","canEditGeneratorSets","canEditPowerRectifiers","canEditAirConditioners","canEditSurface","canEditDistribution","canEditPlaneTypes","totalJunctionsCapacity","totalUsedJunctionsCapacity","totalAvailableJunctionsCapacity","totalGeneratorSetsCapacity","totalGeneratorSetsUsedCapacity","totalAvailableGeneratorSetsCapacity","totalGeneratorSetsCapacityA","totalGeneratorSetsCapacityB","usedGeneratorSetsCapacityA","usedGeneratorSetsCapacityB","availableGeneratorSetsCapacityA","availableGeneratorSetsCapacityB","totalSurface","usedSurface","availableSurface","totalDistributionCapacity","usedDistributionCapacity","availableDistributionCapacity"],data:function(){return{isEditMode:!1,newTheoreticalAutonomy:this.pop&&this.pop.current_battery_bank_autonomy?this.pop.current_battery_bank_autonomy.theoretical:0,iframe:null}},computed:{pop:function(){return this.room&&this.room.pop},layoutPath:function(){return this.room.layout?this.room.layout.file_path:this.pop.layout&&this.pop.layout.file_path},showLayout:function(){return!(!this.pop.layouts||!this.pop.layouts.iframe)}},watch:{room:function(t){this.newTheoreticalAutonomy=this.pop&&this.pop.current_battery_bank_autonomy?this.pop.current_battery_bank_autonomy.theoretical:0}},methods:{updateAutonomy:function(){var t=this;if(!this.isEditMode&&this.pop&&this.pop.current_battery_bank_autonomy&&this.newTheoreticalAutonomy!=this.pop.current_battery_bank_autonomy.theoretical){var a={pop_id:this.pop.id,theoretical_autonomy:parseFloat(this.newTheoreticalAutonomy)};axios.post("/api/batteryBankAutonomies",a).then((function(a){t.$eventBus.$emit("reload-data")}))}}}},s=e(0),u=Object(s.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{},[t._m(0),t._v(" "),e("div",{staticStyle:{"padding-top":"24px"}},[e("div",{},[e("div",{},[e("div",{staticClass:"box",style:t.showLayout?"min-height: 640px":"min-height: 960px"},[t.showLayout?e("iframe",{staticStyle:{width:"100%"},attrs:{height:"610",src:this.pop.layouts&&this.pop.layouts.iframe,frameborder:"0",allowfullscreen:"",allow:"xr-spatial-tracking"}}):t._e(),t._v(" "),t.showLayout?t._e():e("iframe",{staticStyle:{height:"960px"},attrs:{src:"/storage/"+t.layoutPath,width:"100%"}})])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{},[a("div",{staticClass:"has-text-weight-semibold has-text-dark is-size-3 has-text-left"},[this._v("Layout")])])}],!1,null,null,null);a.default=u.exports}}]);