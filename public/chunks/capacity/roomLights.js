(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{375:function(t,a,i){"use strict";i.r(a);var e={components:{},props:["user","room"],data:function(){return{totalJunctionsTotalCapacity:this.room.current_room_capacity?this.room.current_room_capacity.junction_total:0,totalGeneratorSetTotalCapacity:this.room.current_room_capacity?this.room.current_room_capacity.generator_set_total:0,totalPowerRectifiersCapacity:this.room.current_room_capacity?this.room.current_room_capacity.power_rectifier_total:0,totalBatteriesCapacity:this.room.current_room_capacity?this.room.current_room_capacity.battery_total:0,totalDistributionCapacity:this.room.current_room_capacity?this.room.current_room_capacity.distribution_total:0,totalClmateCapacity:this.room.current_room_capacity?this.room.current_room_capacity.climate_total:0,totaSurfaceCapacity:this.room.current_room_capacity?this.room.current_room_capacity.surface_total:0,junctionsTotalAvailableCapacity:this.room.current_room_capacity?this.room.current_room_capacity.junction_available:0,generatorSetTotalAvailableCapacity:this.room.current_room_capacity?this.room.current_room_capacity.generator_set_available:0,powerRectifiersAvailableCapacity:this.room.current_room_capacity?this.room.current_room_capacity.power_rectifier_available:0,batteriesAvailableCapacity:this.room.current_room_capacity?this.room.current_room_capacity.battery_available:0,distributionAvailableCapacity:this.room.current_room_capacity?this.room.current_room_capacity.distribution_available:0,totalAvailableClimateCapacity:this.room.current_room_capacity?this.room.current_room_capacity.climate_available:0,totalAvailableSurfaceCapacity:this.room.current_room_capacity?this.room.current_room_capacity.surface_available:0,energy_treshold_danger:.1,energy_treshold_warning:.2,climate_treshold_danger:.1,climate_treshold_warning:.2,surface_treshold_danger:.1,surface_treshold_warning:.2}},watch:{room:function(t){this.totalJunctionsTotalCapacity=t.current_room_capacity?t.current_room_capacity.junction_total:0,this.totalGeneratorSetTotalCapacity=t.current_room_capacity?t.current_room_capacity.generator_set_total:0,this.totalPowerRectifiersCapacity=t.current_room_capacity?t.current_room_capacity.power_rectifier_total:0,this.totalBatteriesCapacity=t.current_room_capacity?t.current_room_capacity.battery_total:0,this.totalDistributionCapacity=t.current_room_capacity?t.current_room_capacity.distribution_total:0,this.totalClmateCapacity=t.current_room_capacity?t.current_room_capacity.climate_total:0,this.totaSurfaceCapacity=t.current_room_capacity?t.current_room_capacity.surface_total:0,this.junctionsTotalAvailableCapacity=t.current_room_capacity?t.current_room_capacity.junction_available:0,this.generatorSetTotalAvailableCapacity=t.current_room_capacity?t.current_room_capacity.generator_set_available:0,this.powerRectifiersAvailableCapacity=t.current_room_capacity?t.current_room_capacity.power_rectifier_available:0,this.batteriesAvailableCapacity=t.current_room_capacity?t.current_room_capacity.battery_available:0,this.distributionAvailableCapacity=t.current_room_capacity?t.current_room_capacity.distribution_available:0,this.totalAvailableClimateCapacity=t.current_room_capacity?t.current_room_capacity.climate_available:0,this.totalAvailableSurfaceCapacity=t.current_room_capacity?t.current_room_capacity.surface_available:0}},computed:{totalCapacity:function(){var t=Math.min(this.totalAvailableEnergyCapacity,this.totalAvailableClimateCapacity);return t>=0?t:0},totalAvailableEnergyCapacity:function(){var t=Math.min(this.junctionsTotalAvailableCapacity,this.generatorSetTotalAvailableCapacity,this.powerRectifiersAvailableCapacity,this.batteriesAvailableCapacity,this.distributionAvailableCapacity);return t>0?t:0},totalCapacityEnergyPercentage:function(){var t="info",a=Math.min(this.totalJunctionsTotalCapacity>0?this.junctionsTotalAvailableCapacity/this.totalJunctionsTotalCapacity:null,this.totalGeneratorSetTotalCapacity>0?this.generatorSetTotalAvailableCapacity/this.totalGeneratorSetTotalCapacity:null,this.totalPowerRectifiersCapacity>0?this.powerRectifiersAvailableCapacity/this.totalPowerRectifiersCapacity:null,this.totalBatteriesCapacity>0?this.batteriesAvailableCapacity/this.totalBatteriesCapacity:null,this.totalDistributionCapacity>0?this.distributionAvailableCapacity/this.totalDistributionCapacity:null);return a&&(a<=this.energy_treshold_danger?t="info":a<=this.energy_treshold_warning?t="warning":a>this.energy_treshold_warning&&(t="success")),{percentage:a,color:t}},totalCapacityClimatePercentage:function(){var t="info",a=this.totalClmateCapacity>0?this.totalAvailableClimateCapacity/this.totalClmateCapacity:0;return a&&(a<=this.climate_treshold_danger?t="info":a<=this.climate_treshold_warning?t="warning":a>this.climate_treshold_warning&&(t="success")),{percentage:a,color:t}},totalCapacitySurfacePercentage:function(){var t="info",a=this.totaSurfaceCapacity?this.totalAvailableSurfaceCapacity/this.totaSurfaceCapacity:0;return a&&(a<=this.surface_treshold_danger?t="info":a<=this.surface_treshold_warning?t="warning":a>this.surface_treshold_warning&&(t="success")),{percentage:a,color:t}},totalCapacityPercentage:function(){var t="info",a=this.totalCapacityEnergyPercentage.percentage,i=this.totalCapacityClimatePercentage.percentage;return a&&i&&(a<=this.energy_treshold_danger||i<=this.climate_treshold_danger?t="info":a<=this.energy_treshold_warning||i<=this.climate_treshold_warning?t="warning":(a>this.energy_treshold_warning||a>this.energy_treshold_warning)&&(t="success")),{energy_percentage:a,climate_percentage:i,color:t}},canViewClimate:function(){return"engineer-admin"==this.user.roles[0].slug||"admin"==this.user.roles[0].slug||"developer"==this.user.roles[0].slug||"super-viewer"==this.user.roles[0].slug}}},r=i(0),c=Object(r.a)(e,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3 has-text-centered"},[i("div",{staticClass:"has-text-centered is-size-7 has-text-weight-bold",staticStyle:{padding:"4px"}},[t._v("GENERAL")]),t._v(" "),i("div",{staticStyle:{padding:"8px",border:"1px solid #aaa","border-radius":"15px",position:"relative"}},[i("div",{staticStyle:{padding:"4px"}},[i("div",{staticClass:"pb-1"},[i("font-awesome-icon",{class:"has-text-"+t.totalCapacityPercentage.color,attrs:{icon:"circle",size:"2x"}}),t._v(" "),t.totalCapacitySurfacePercentage.percentage<=t.surface_treshold_warning&&t.totalCapacityPercentage.energy_percentage>t.energy_treshold_warning?i("b-tooltip",{staticClass:"pl-1",attrs:{label:"Tener en cuenta capacidad de espacio.",size:"is-small",type:"is-light",position:"is-right",multilined:""}},[i("font-awesome-icon",{staticClass:"has-text-warning",attrs:{icon:"exclamation-triangle",size:"1x"}})],1):t._e()],1),t._v(" "),i("div",{staticClass:"is-size-7 has-text-weight-semibold"},[t._v(t._s(t._f("numeral")(t.totalCapacityPercentage.energy_percentage,"0,0.0%")))]),t._v(" "),i("div",{staticClass:"has-text-centered has-text-white"},[i("div",{staticClass:" is-size-5 has-text-weight-bold"},[t._v("\n                        "+t._s(t._f("numeral")(t.totalCapacity,"0,0.0"))+"\n                        "),i("span",{staticClass:"is-size-6 has-text-weight-light"},[t._v("kW")])]),t._v(" "),i("p",{staticClass:"has-text-weight-light is-size-7"},[t._v("Disponibles")])])])])]),t._v(" "),i("div",{staticClass:"column has-text-centered"},[i("div",{staticClass:"level has-text-centered is-size-7 has-text-weight-bold",staticStyle:{margin:"0",padding:"4px"}},[i("div",{staticClass:"level-item"},[t._v("ENERGIA")]),t._v(" "),t.canViewClimate?i("div",{staticClass:"level-item"},[t._v("CLIMA")]):t._e(),t._v(" "),i("div",{staticClass:"level-item"},[t._v("ESPACIO")])]),t._v(" "),i("div",{staticStyle:{padding:"8px",border:"1px solid #aaa","border-radius":"15px"}},[i("div",{staticClass:"level",staticStyle:{padding:"4px"}},[i("div",{staticClass:"level-item",staticStyle:{position:"relative"}},[i("div",{},[i("div",{staticClass:"pb-1"},[i("font-awesome-icon",{class:"has-text-"+t.totalCapacityEnergyPercentage.color,attrs:{icon:"circle",size:"2x"}})],1),t._v(" "),i("div",{staticClass:"is-size-7 has-text-weight-semibold"},[t._v(t._s(t._f("numeral")(t.totalCapacityEnergyPercentage.percentage,"0,0.0%")))]),t._v(" "),i("div",{staticClass:"has-text-centered has-text-white"},[i("div",{staticClass:" is-size-5 has-text-weight-bold"},[t._v("\n                                "+t._s(t._f("numeral")(t.canViewClimate?t.totalAvailableEnergyCapacity:Math.min(t.totalAvailableEnergyCapacity,t.totalAvailableClimateCapacity),"0,0.0"))+"\n                                "),i("span",{staticClass:"is-size-6 has-text-weight-light"},[t._v("kW")])]),t._v(" "),i("p",{staticClass:"has-text-weight-light is-size-7"},[t._v("Disponibles")])])])]),t._v(" "),t.canViewClimate?i("div",{staticClass:"level-item"},[i("div",{},[i("div",{staticClass:"pb-1"},[i("font-awesome-icon",{class:"has-text-"+t.totalCapacityClimatePercentage.color,attrs:{icon:"circle",size:"2x"}})],1),t._v(" "),i("div",{staticClass:"is-size-7 has-text-weight-semibold"},[t._v(t._s(t._f("numeral")(t.totalCapacityClimatePercentage.percentage,"0,0.0%")))]),t._v(" "),i("div",{staticClass:"has-text-centered has-text-white"},[i("div",{staticClass:" is-size-5 has-text-weight-bold"},[t._v(t._s(t._f("numeral")(t.totalAvailableClimateCapacity,"0,0.0"))+"\n                            "),i("span",{staticClass:"is-size-6 has-text-weight-light"},[t._v("kW")])]),t._v(" "),i("p",{staticClass:"has-text-weight-light is-size-7"},[t._v("Disponibles")])])])]):t._e(),t._v(" "),i("div",{staticClass:"level-item"},[i("div",{},[i("div",{staticClass:"pb-1"},[i("font-awesome-icon",{class:"has-text-"+t.totalCapacitySurfacePercentage.color,attrs:{icon:"circle",size:"2x"}})],1),t._v(" "),i("div",{staticClass:"is-size-7 has-text-weight-semibold"},[t._v(t._s(t._f("numeral")(t.totalCapacitySurfacePercentage.percentage,"0,0.0%")))]),t._v(" "),i("div",{staticClass:"has-text-centered has-text-white"},[i("div",{staticClass:" is-size-5 has-text-weight-bold"},[t._v(t._s(t._f("numeral")(t.totalAvailableSurfaceCapacity,"0,0.0")))]),t._v(" "),i("p",{staticClass:"has-text-weight-light is-size-7"},[t._v("Disponibles")])])])])])])])])}),[],!1,null,null,null);a.default=c.exports}}]);