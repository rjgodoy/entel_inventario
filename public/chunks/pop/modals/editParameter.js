(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{364:function(t,e,a){"use strict";a.r(e);var s={props:["pop","site","user","parameter","parameter_id"],data:function(){return{value:this.parameter_id,isFetching:!1,text:"",page:1,totalPages:1,parameters:[]}},computed:{itemName:function(){return this.site?"site":"pop"},itemValue:function(){return this.site?this.site:this.pop},parameterName:function(){for(var t=this.parameter.split("_"),e="",a=0;a<t.length-1;a++)e=""==e?t[a]:e+"_"+t[a];return e}},mounted:function(){this.getParameters()},methods:{getParameters:function(){var t=this,e={parameter:this.parameter};axios.get("/api/".concat(this.itemName,"Parameters"),{params:e}).then((function(e){console.log(e.data),t.parameters=e.data.data}))},updateParameter:function(){var t=this,e={parameter:this.parameter,value:this.value,user_id:this.user.id};axios.put("/api/".concat(this.itemName,"/").concat(this.itemValue.id),e).then((function(e){console.log(e),t.$buefy.toast.open({message:"Parámetro actualizado exitosamente.",type:"is-success",duration:3e3})})),this.$parent.close(),this.$eventBus.$emit("parameter-updated")}}},r=a(0),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card",staticStyle:{width:"500px"}},[t._m(0),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"container is-fullwidth"},[a("b-select",{attrs:{placeholder:"Select a name"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.parameters,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e[t.parameterName]?e[t.parameterName]:e.type)+"\n                ")])})),0)],1)]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("Cerrar")]),t._v(" "),a("button",{staticClass:"button is-link",on:{click:t.updateParameter}},[t._v("Actualizar")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head has-text-centered"},[e("p",{staticClass:"modal-card-title has-text-weight-bold"},[this._v("Editar Parámetro")])])}],!1,null,null,null);e.default=i.exports}}]);